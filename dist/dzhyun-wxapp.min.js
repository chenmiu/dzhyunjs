!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Dzhyun=e():t.Dzhyun=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){return!("undefined"==typeof window||!window.location)&&/^https:/.test(window.location.href)}function s(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o(),s=/^((\w+)s*:\/\/)?(.*)/.exec(t),a=i(s,4),c=a[2],f=void 0===c?"http":c,l=a[3],h=r?f+"s":f,p=u[h];if(!p)throw new Error('protocol "'+h+'" no support');return p(l,e,n)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],r=!0,o=!1,s=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,s=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=0;n<(arguments.length<=1?0:arguments.length-1);n+=1){var r=arguments.length<=n+1?void 0:arguments[n+1];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e});var u=function(){function t(e,n,o,i){if(r(this,t),"string"!=typeof e)throw new Error("address is incorrect");if(this.constructor===t)return s(e,n,o,i);this._address=e,this.options=n||{},"boolean"==typeof o?(this._secure=o,this._handler=null):(this._secure=i||!1,this._handler=o),this._protocol="http",this._listenerMap={}}return a(t,[{key:"getAddress",value:function(){return this.getProtocol()+"://"+this._address.replace(/^(\w+:\/\/)?/,"")}},{key:"getProtocol",value:function(){return this._protocol+(this._secure?"s":"")}},{key:"request",value:function(t,e){}},{key:"send",value:function(t,e){return this.request(t,e)}},{key:"close",value:function(){}},{key:"on",value:function(t,e){if("function"==typeof e){var n=this._listenerMap[t]||(this._listenerMap[t]=[]);n.indexOf(e)<0&&n.push(e)}return this}},{key:"off",value:function(t,e){if("function"==typeof e){var n=this._listenerMap[t]||(this._listenerMap[t]=[]),r=n.indexOf(e);r>=0&&n.splice(r,1)}return this}},{key:"trigger",value:function(t){for(var e,n=this,r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var i=this._listenerMap[t];return i&&i.forEach(function(t){return t.apply(n,o)}),this._handler&&"function"==typeof this._handler[t]&&(e=this._handler)[t].apply(e,o),this}}]),t}();u.EVENT_OPEN="open",u.EVENT_CLOSE="close",u.EVENT_ERROR="error",u.EVENT_REQUEST="request",u.EVENT_SEND="send",u.EVENT_RESPONSE="response",u.EVENT_MESSAGE="message",u.EVENT_PROGRESS="progress",e.default=u},function(t,e,n){"use strict";function r(t,e,n,o){var i=e instanceof Array;Object.keys(e).forEach(function(a){var u=e[a];o&&(a=n?o:"scope["+(i?"":a)+"]"),!o&&i?t.add(u.name,u.value):(n?u instanceof Array:"object"===(void 0===u?"undefined":s(u)))?r(t,u,n,a):t.add(a,u)})}function o(t,e){var n=[];return n.add=function(t,e){this.push(encodeURIComponent(t)+"="+encodeURIComponent(e))},r(n,t,e),n.join("&").replace("%20","+")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.serialize=r,e.param=o},function(t,e,n){"use strict";function r(t){for(var e=t.length,n=new ArrayBuffer(2*e),r=new Uint8Array(n),o=0;o<e;o+=1)r[o]=t.charCodeAt(o);return n}function o(t){var e=new Uint8Array(t),n=e.length;if(n>65535){var r=[],o=0;do{var s=e.subarray(o,o+=65535);r.push(String.fromCharCode.apply(String,s))}while(o<n);return decodeURIComponent(escape(r.join("")))}return decodeURIComponent(escape(String.fromCharCode.apply(String,e)))}Object.defineProperty(e,"__esModule",{value:!0}),e.stringToArrayBuffer=r,e.arrayBufferToString=o},function(t,e,n){(function(t){/*! (c) 2017 Andrea Giammarchi (ISC) */
!function(){"use strict";var e="object"==typeof t?t:self,n=[].findIndex||function(t,e){for(var n=this.length;n--;)if(t.call(e,this[n]))return n;return n},r=Object.defineProperty,o="__event-target__"+Math.random(),s=e.WeakMap||function(){return{get:function(t){return t[o]},set:function(t,e){r(t,o,{configurable:!0,value:e})}}},i=e.EventTarget;try{new i}catch(t){i=function(){function t(){}function e(t){var e=t.options;e&&e.once&&u.call(t.target,this.type,t.listener,t.options),"function"==typeof t.listener?t.listener.call(t.target,this):t.listener.handleEvent(this)}function o(t){return this===t.listener}function i(t,e,r){var s=l(this),i=s[t]||(s[t]=[]);n.call(i,o,e)<0&&i.push({target:this,listener:e,options:r})}function a(t){var n=l(this),r=n[t.type];return r&&(p(t,{currentTarget:this,target:this}),r.forEach(e,t),delete t.currentTarget,delete t.target),!0}function u(t,e,r){var s=l(this),i=s[t];if(i){var a=n.call(i,o,e);-1<a&&i.splice(a,1)}}function c(){}var f=new s,l=function(t){return f.get(t)||h(t)},h=function(t){var e=new c;return f.set(t,e),e},p=function(t,e){for(var n in e)r(t,n,{configurable:!0,value:e[n]})};return p(t.prototype,{addEventListener:i,dispatchEvent:a,removeEventListener:u}),c.prototype=Object.create(null),t}()}}()}).call(e,n(5))},function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,n){if(t&&c.isObject(t)&&t instanceof r)return t;var o=new r;return o.parse(t,e,n),o}function s(t){return c.isString(t)&&(t=o(t)),t instanceof r?t.format():r.prototype.format.call(t)}function i(t,e){return o(t,!1,!0).resolve(e)}function a(t,e){return t?o(t,!1,!0).resolveObject(e):e}var u=n(20),c=n(25);e.parse=o,e.resolve=i,e.resolveObject=a,e.format=s,e.Url=r;var f=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(p),y=["'"].concat(d),v=["%","/","?",";","#"].concat(y),m=["/","?","#"],b=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=n(23);r.prototype.parse=function(t,e,n){if(!c.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),o=-1!==r&&r<t.indexOf("#")?"?":"#",s=t.split(o),i=/\\/g;s[0]=s[0].replace(i,"/"),t=s.join(o);var a=t;if(a=a.trim(),!n&&1===t.split("#").length){var l=h.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=e?O.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var p=f.exec(a);if(p){p=p[0];var d=p.toLowerCase();this.protocol=d,a=a.substr(p.length)}if(n||p||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===a.substr(0,2);!j||p&&E[p]||(a=a.substr(2),this.slashes=!0)}if(!E[p]&&(j||p&&!_[p])){for(var S=-1,x=0;x<m.length;x++){var k=a.indexOf(m[x]);-1!==k&&(-1===S||k<S)&&(S=k)}var T,P;P=-1===S?a.lastIndexOf("@"):a.lastIndexOf("@",S),-1!==P&&(T=a.slice(0,P),a=a.slice(P+1),this.auth=decodeURIComponent(T)),S=-1;for(var x=0;x<v.length;x++){var k=a.indexOf(v[x]);-1!==k&&(-1===S||k<S)&&(S=k)}-1===S&&(S=a.length),this.host=a.slice(0,S),a=a.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var N=this.hostname.split(/\./),x=0,A=N.length;x<A;x++){var q=N[x];if(q&&!q.match(b)){for(var R="",M=0,I=q.length;M<I;M++)q.charCodeAt(M)>127?R+="x":R+=q[M];if(!R.match(b)){var L=N.slice(0,x),U=N.slice(x+1),D=q.match(g);D&&(L.push(D[1]),U.unshift(D[2])),U.length&&(a="/"+U.join(".")+a),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=u.toASCII(this.hostname));var B=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!w[d])for(var x=0,A=y.length;x<A;x++){var G=y[x];if(-1!==a.indexOf(G)){var H=encodeURIComponent(G);H===G&&(H=escape(G)),a=a.split(G).join(H)}}var J=a.indexOf("#");-1!==J&&(this.hash=a.substr(J),a=a.slice(0,J));var X=a.indexOf("?");if(-1!==X?(this.search=a.substr(X),this.query=a.substr(X+1),e&&(this.query=O.parse(this.query)),a=a.slice(0,X)):e&&(this.search="",this.query={}),a&&(this.pathname=a),_[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",Q=this.search||"";this.path=B+Q}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(s=O.stringify(this.query));var i=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||_[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),i&&"?"!==i.charAt(0)&&(i="?"+i),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),i=i.replace("#","%23"),e+o+n+i+r},r.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(c.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,o=Object.keys(this),s=0;s<o.length;s++){var i=o[s];n[i]=this[i]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var f=a[u];"protocol"!==f&&(n[f]=t[f])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!_[t.protocol]){for(var l=Object.keys(t),h=0;h<l.length;h++){var p=l[h];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||E[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var y=n.pathname||"",v=n.search||"";n.path=y+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=b||m||n.host&&t.pathname,w=g,O=n.pathname&&n.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],j=n.protocol&&!_[n.protocol];if(j&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),g=g&&(""===d[0]||""===O[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),n.search=t.search,n.query=t.query;else if(!c.isNullOrUndefined(t.search)){if(j){n.hostname=n.host=O.shift();var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=O.slice(-1)[0],k=(n.host||t.host||O.length>1)&&("."===x||".."===x)||""===x,T=0,P=O.length;P>=0;P--)x=O[P],"."===x?O.splice(P,1):".."===x?(O.splice(P,1),T++):T&&(O.splice(P,1),T--);if(!g&&!w)for(;T--;T)O.unshift("..");!g||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),k&&"/"!==O.join("/").substr(-1)&&O.push("");var C=""===O[0]||O[0]&&"/"===O[0].charAt(0);if(j){n.hostname=n.host=C?"":O.length?O.shift():"";var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return g=g||n.host&&O.length,g&&!C&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=l.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){return(0===t.indexOf("?")?t.substring(1):t).split("&").reduce(function(t,e){if(""!==e){var n=e.split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n.slice(1).join("="))}return t},{})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),e.unParam=r},function(t,e,n){"use strict";var r=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(r);n(10),n(12),t.exports=o.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(18),a=r(i),u=n(19),c=r(u),f=n(17),l=r(f),h=n(2),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.options=e}return s(t,[{key:"parse",value:function(e){var n=this;return Promise.resolve().then(function(){return"snappy"===n.options.compresser?t.uncompress(e):e}).then(function(e){return t.isJSON(e)?t.parseJSON(e):void 0===n.options.compresser?t.parseProtoBuf(e,!1!==n.options.yfloat).catch(function(r){return t.uncompress(e).catch(function(){throw r}).then(n.parse.bind(n))}):t.parseProtoBuf(e,!1!==n.options.yfloat)})}}],[{key:"parseProtoBuf",value:function(t,e){return"function"==typeof c.default?(0,c.default)(t,e):Promise.reject(new Error("no support parse protobuf data"))}},{key:"parseJSON",value:function(t){return"function"==typeof l.default?(0,l.default)(t):Promise.reject(new Error("no support parse JSON data"))}},{key:"isJSON",value:function(t){var e=void 0;return"string"==typeof t?e=t.charCodeAt(0):t instanceof ArrayBuffer&&(e=new Uint8Array(t)[0]),123===e}},{key:"uncompress",value:function(t){return Promise.resolve().then(function(){var e=t;if("function"!=typeof a.default)throw new Error("no support snappy uncompress");return"string"==typeof t?(e=(0,h.stringToArrayBuffer)(e),e=(0,a.default)(e)):e=(0,a.default)(e),e})}}]),t}();t.exports=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e={};return t&&Object.keys(t).forEach(function(n){var r=t[n];r instanceof Array&&(r=r.join(",")),null!=r&&(e[n]=r)}),(0,v.param)(e)}function u(){return m+=1}var c=function(){function t(t,e){var n=[],r=!0,o=!1,s=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,s=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw s}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=n(7),p=r(h),d=n(8),y=r(d),v=n(6),m=0,b=function(){function t(){i(this,t),this._listenerMap={}}return l(t,[{key:"on",value:function(t,e){if("function"==typeof e){var n=this._listenerMap[t]||(this._listenerMap[t]=[]);n.indexOf(e)<0&&n.push(e)}return this}},{key:"off",value:function(t,e){if("function"==typeof e){var n=this._listenerMap[t]||(this._listenerMap[t]=[]),r=n.indexOf(e);r>=0&&n.splice(r,1)}else this._listenerMap[t]=[];return this}},{key:"trigger",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var s=this._listenerMap[t];return s&&s.forEach(function(t){return t.apply(e,r)}),this}},{key:"alias",value:function(t){t&&(this["on"+t]=this.on.bind(this,t),this["off"+t]=this.off.bind(this,t),this[t]||(this[t]=this.trigger.bind(this,t)))}}]),t}(),g=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.assign(n,t),n.subscribe=!(!t.queryObject||1!==t.queryObject.sub),n.alias("message"),n.alias("error"),n.onmessage(t.callback),n.onerror(t.callback),n}return s(e,t),l(e,[{key:"then",value:function(){var t,e=this;return(t=new Promise(function(t,n){e.onmessage(t),e.onerror(n)})).then.apply(t,arguments)}},{key:"catch",value:function(){var t,e=this;return(t=new Promise(function(t,n){e.onmessage(t),e.onerror(n)})).catch.apply(t,arguments)}}]),e}(b),w=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.address,r=void 0===n?"ws://gw.yundzh.com/ws":n,s=t.dataType,a=void 0===s?"json":s,c=t.compresser,f=t.dataParser,l=t.token,h=t.generateQid,p=t.secure;i(this,e);var d=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return d.address=r,d.dataType=a,d.compresser=c,d.dataParser=f||new y.default({compresser:c}),d.token=l,d.generateQid=h||u,d.secure=p,d._requests={},d.alias("open"),d.alias("close"),d.alias("request"),d.alias("response"),d.alias("error"),d}return s(e,t),l(e,[{key:"_tokenPromise",value:function(){return Promise.resolve(this.token&&this.token.getToken?this.token.getToken():this.token)}},{key:"_connection",value:function(){var t=this;return this._conn=this._conn||Promise.resolve().then(function(){return t._tokenPromise().catch(function(t){return console.warn("request token fail",t)}).then(function(e){var n=new p.default(t.address,{deferred:!0},{open:function(){t.trigger("open")},request:function(e){t.trigger("request",e)},response:function(e){t.trigger("response",e),t.dataParser&&Promise.resolve(t.dataParser.parse||t.dataParser).then(function(n){n.call(t.dataParser,e).then(function(e){var n=e.Qid,r=e.Err,o=e.Counter,s=e.Data,i=void 0===s?{}:s;if(n){var a=t._requests[n];if(a){if(0!==r){var u=i.desc,c=i.code,f=new Error(u||"unknown error");f.desc=u,f.code=c,a.error(f,o,c,u)}else{var l=i;a.shrinkData&&(l=l[Object.keys(l).filter(function(t){return["Id","Obj"].indexOf(t)<0}).sort(function(t){return 0===t.indexOf("RepData")?-1:1})[0]]),a.message(l,o)}a.subscribe||delete t._requests[n]}}else console.warn("Qid does not exist.")}).catch(function(t){console.error(t)})})},close:function(){t._conn=null,t.trigger("close")},error:function(e){t._conn=null,t.trigger("error",e)}},t.secure),r=n._protocol;return e&&"ws"===r&&n._address.indexOf("token=")<0&&(n._address=n._address+"?token="+e),t._conn=n,t._connectionType=r,t._conn})}),Promise.resolve(this._conn)}},{key:"query",value:function(t,e,n,r,o){var s=this;if("string"!=typeof t)throw new Error("url must be a string");"object"!==(void 0===e?"undefined":f(e))&&(r=n,n=e,e=null),"function"!=typeof n&&(r=n,n=null),r=!1!==r;var i=t.split("?"),u=c(i,2),l=u[0],h=u[1],p=Object.assign({compresser:this.compresser||void 0,output:this.dataType},(0,v.unParam)(h||""),e),d=p.qid;d||(d=this.generateQid(l,p),p.qid=d);var y=new g({qid:d,serviceUrl:l,queryObject:p,callback:n,shrinkData:r});return y.cancel=this.cancel.bind(this,d),y.start=function(){s._requests[d]=y;var t=void 0;s._connection().then(function(e){return"http"===s._connectionType?(t={dataType:"arraybuffer"},s._tokenPromise().then(function(t){return p.token=t,e})):e}).then(function(e){var n=a(p);e.request(n?l+"?"+n:l,t)})},!1!==o&&y.start(),y}},{key:"subscribe",value:function(t,e,n,r,o){return"object"!==(void 0===e?"undefined":f(e))&&(r=n,n=e,e={}),e=e||{},e.sub=1,this.query(t,e,n,r,o)}},{key:"_cancelRequest",value:function(t){"ws"===this._connectionType&&this._conn&&1===this._conn.getStatus()&&this._conn.request("/cancel?qid="+t)}},{key:"cancel",value:function(t){var e=this;if(t)this._cancelRequest(t),delete this._requests[t];else{var n=this._requests;Object.keys(n).forEach(function(t){e._cancelRequest(t),delete n[t]})}}},{key:"close",value:function(){this.cancel(),this._conn&&this._conn.close(),this._conn=null}}]),e}(b);w.Connection=p.default,w.DataParser=y.default,t.exports=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=r(u),f=n(14),l=r(f),h=function(t){function e(){var t;o(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=s(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)));return a._request=[],a}return i(e,t),a(e,[{key:"request",value:function(t,e){var n=this,r=Object.assign({},this.options,e),o=void 0;return r.success=function(t){n.trigger(c.default.EVENT_MESSAGE,t),n.trigger(c.default.EVENT_RESPONSE,t)},r.error=function(t,e,r){n.trigger(c.default.EVENT_ERROR,r)},r.complete=function(){var t=n._request.indexOf(o);n._request.splice(t,1)},r.url=this.getAddress()+(t||""),o=(0,l.default)(r),o&&(o.onreadystatechange=function(e){return function(){2===o.readyState&&(n.trigger(c.default.EVENT_SEND,t),n.trigger(c.default.EVENT_REQUEST,t)),e&&e()}}(o.onreadystatechange)),this.trigger(c.default.EVENT_OPEN),this._request.push(o),o.onprogress=function(t){n.trigger(c.default.EVENT_PROGRESS,t)},this}},{key:"close",value:function(){var t=this;return this._request.forEach(function(e,n){e.abort(),t._request.splice(n,1)}),this.trigger(c.default.EVENT_CLOSE),this}}]),e}(c.default);c.default.http=function(t,e,n){return new h(t,e,n,!1)},c.default.https=function(t,e,n){return new h(t,e,n,!0)},t.exports=c.default},function(t,e,n){"use strict";var r={};r=n("undefined"!=typeof wx?15:27),"undefined"!=typeof window?window.WebSocket?t.exports=window.WebSocket:console.warn("当前浏览器不支持WebSocket"):"undefined"!=typeof WebSocket?t.exports=WebSocket:t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=r(u),f=n(11),l=r(f),h=function(t){function e(t,n,r,i){o(this,e);var a=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,i));return a._protocol="ws",a._ws=null,!1===(n&&!0===n.deferred||!1)&&a._connect(),a}return i(e,t),a(e,[{key:"getStatus",value:function(){return this._ws?this._ws.readyState:l.default.CLOSED}},{key:"_connect",value:function(){var t=this;if(void 0===l.default)throw Error("Don't support WebSocket");this._ws=new l.default(this.getAddress()),void 0===l.default.OPEN&&(l.default.CONNECTING=this._ws.CONNECTING,l.default.OPEN=this._ws.OPEN,l.default.CLOSING=this._ws.CLOSING,l.default.CLOSED=this._ws.CLOSED),this._ws.binaryType=this.options.binaryType||this.options.dataType||"arraybuffer",this._ws.addEventListener("open",function(){t.trigger(c.default.EVENT_OPEN)}),this._ws.addEventListener("error",function(e){t.trigger(c.default.EVENT_ERROR,e)}),this._ws.addEventListener("close",function(){t.trigger(c.default.EVENT_CLOSE)}),this._ws.addEventListener("message",function(e){t.trigger(c.default.EVENT_MESSAGE,e.data),t.trigger(c.default.EVENT_RESPONSE,e.data)})}},{key:"request",value:function(t){var e=this,n=t||"";return this.getStatus()===l.default.CLOSED&&this._connect(),this.getStatus()!==l.default.OPEN?this._ws.addEventListener("open",function(){e._ws.send(n),e.trigger(c.default.EVENT_SEND,n),e.trigger(c.default.EVENT_REQUEST,n)}):(this._ws.send(n),this.trigger(c.default.EVENT_SEND,n),this.trigger(c.default.EVENT_REQUEST,n)),this}},{key:"close",value:function(){return this.getStatus()!==l.default.CLOSED&&(this._ws.close(),this._ws=null),this}}]),e}(c.default);c.default.ws=function(t,e,n){return new h(t,e,n,!1)},c.default.wss=function(t,e,n){return new h(t,e,n,!0)},t.exports=c.default},function(t,e,n){"use strict";var r={};r=n("undefined"!=typeof wx?16:28),"undefined"!=typeof window?window.XMLHttpRequest?t.exports=window.XMLHttpRequest:console.warn("当前浏览器不支持XMLHttpRequest"):"undefined"!=typeof XMLHttpRequest?t.exports=XMLHttpRequest:t.exports=r.XMLHttpRequest||r},function(t,e,n){"use strict";function r(t){if("undefined"==typeof ArrayBuffer)throw new Error("不支持ArrayBuffer类型");if(t.response instanceof ArrayBuffer)return t.response;for(var e=t.responseText,n=e.length,r=new ArrayBuffer(n),o=new Uint8Array(r),s=0;s<n;s+=1)o[s]=255&e.charCodeAt(s);return r}function o(t){if("undefined"==typeof Blob)throw new Error("不支持Blob类型");if(t.response instanceof Blob)return t.response;var e=r(t);return new Blob([e])}function s(t,e,n){return!0}function i(t,e,n,r){if(t.global)return s(e||S,n,r)}function a(t){t.global&&0==N.active++&&i(t,null,"ajaxStart")}function u(t){t.global&&!--N.active&&i(t,null,"ajaxStop")}function c(t,e){var n=e.context;if(!1===e.beforeSend.call(n,t,e)||!1===i(e,n,"ajaxBeforeSend",[t,e]))return!1;i(e,n,"ajaxSend",[t,e])}function f(t,e,n){var r=n.context;n.success.call(r,t,"success",e),i(n,r,"ajaxSuccess",[e,n,t]),h("success",e,n)}function l(t,e,n,r){var o=r.context;r.error.call(o,n,e,t),i(r,o,"ajaxError",[n,r,t]),h(e,n,r)}function h(t,e,n){var r=n.context;n.complete.call(r,e,t),i(n,r,"ajaxComplete",[e,n]),u(n)}function p(){}function d(t){return t&&(t==P?"html":t==T?"json":x.test(t)?"script":k.test(t)&&"xml")||"text"}function y(t,e){return(t+"&"+e).replace(/[&?]{1,2}/,"?")}function v(t){"object"===g(t.data)&&(t.data=(0,_.param)(t.data)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=y(t.url,t.data))}var m,b,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w=n(13),E=function(t){return t&&t.__esModule?t:{default:t}}(w),_=n(1),O=0,j="undefined"==typeof window,S=!j&&window.document,x=/^(?:text|application)\/javascript/i,k=/^(?:text|application)\/xml/i,T="application/json",P="text/html",C=/^\s*$/,N=t.exports=function(t){var e=Object.assign({},t||{});for(m in N.settings)void 0===e[m]&&(e[m]=N.settings[m]);a(e),e.crossDomain||(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&!j&&!!window.location&&RegExp.$2!=window.location.host);var n=e.dataType,s=/=\?/.test(e.url);if("jsonp"==n||s)return s||(e.url=y(e.url,"callback=?")),N.JSONP(e);e.url||(e.url=!j&&!!window.location&&window.location.toString()),v(e);var i,u=e.accepts[n],h={},g=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:!j&&!!window.location&&window.location.protocol,w=N.settings.xhr();e.crossDomain?"undefined"!=typeof XDomainRequest&&(w=new XDomainRequest,w.onload=function(){w.readyState=4,w.status=200,w.onreadystatechange()},w.error=function(){w.readyState=4,w.status=400,w.onreadystatechange()}):h["X-Requested-With"]="XMLHttpRequest",u&&(h.Accept=u,u.indexOf(",")>-1&&(u=u.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(u)),(e.contentType||e.data&&"GET"!=e.type.toUpperCase())&&(h["Content-Type"]=e.contentType||"application/x-www-form-urlencoded"),e.headers=Object.assign(h,e.headers||{}),w.onreadystatechange=function(){if(4==w.readyState){clearTimeout(i);var t,s=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==g){n=n||d(w.contentType||w.getResponseHeader&&w.getResponseHeader("content-type"));try{"script"==n?(0,eval)(t):t="xml"==n?w.responseXML:"json"==n?C.test(w.responseText)?null:JSON.parse(w.responseText):"arraybuffer"===n?r(w):"blob"===n?o(w):w.responseText}catch(t){s=t}s?l(s,"parsererror",w,e):f(t,w,e)}else l(null,"error",w,e)}};var E=!("async"in e)||e.async;if(w.open(e.type,e.url,E),"arraybuffer"==n||"blob"==n){"string"==typeof w.responseType?w.responseType=t.dataType:w.overrideMimeType?w.overrideMimeType("text/plain; charset=x-user-defined"):w.setRequestHeader("Accept-Charset","x-user-defined")}for(b in e.headers)w.setRequestHeader(b,e.headers[b]);return!1===c(w,e)?(w.abort(),!1):(e.timeout>0&&(i=setTimeout(function(){w.onreadystatechange=p,w.abort(),l(null,"timeout",w,e)},e.timeout)),w.send(e.data?e.data:null),w)};N.active=0,N.JSONP=function(t){if(!("type"in t))return N(t);var e,n="jsonp"+ ++O,r=S.createElement("script"),o=function(){!j&&n in window&&(window[n]=p),h("abort",s,t)},s={abort:o},i=S.getElementsByTagName("head")[0]||S.documentElement;return t.error&&(r.onerror=function(){s.abort(),t.error()}),j||(window[n]=function(r){clearTimeout(e),delete window[n],f(r,s,t)}),v(t),r.src=t.url.replace(/=\?/,"="+n),i.insertBefore(r,i.firstChild),t.timeout>0&&(e=setTimeout(function(){s.abort(),h("timeout",s,t)},t.timeout)),s},N.settings={type:"GET",beforeSend:p,success:p,error:p,complete:p,context:null,global:!0,xhr:function(){return new E.default},accepts:{script:"text/javascript, application/javascript",json:T,xml:"application/xml, text/xml",html:P,text:"text/plain"},crossDomain:!1,timeout:0},N.get=function(t,e){return N({url:t,success:e})},N.post=function(t,e,n,r){return"function"==typeof e&&(r=r||n,n=e,e=null),N({type:"POST",url:t,data:e,success:n,dataType:r})},N.getJSON=function(t,e){return N({url:t,success:e,dataType:"json"})}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(3),i=n(4),a=function(){function t(e){var n=this;if(r(this,t),null==e)throw new TypeError("1 argument needed");try{if("wss:"!=i.parse(e).protocol)throw new Error("protocol must be wss")}catch(t){throw new SyntaxError("url in wrong format,protocol must be wss")}null!=t.instance&&t.instance.close(),t.instance=this,this.url=e,this.readyState=0,this.onopen=null,this.onclose=null,this.onerror=null,this.onmessage=null,wx.connectSocket({url:e}),wx.onSocketOpen(function(){n.readyState=t.OPEN,n.onopen&&n.onopen.call(n),n.dispatchEvent({type:"open"})}),wx.onSocketError(function(t){var e={type:"error",data:t};n.onerror&&n.onerror.call(n,e),n.dispatchEvent(e)}),wx.onSocketMessage(function(e){if(n.readyState===t.OPEN||n.readyState===t.CLOSING){var r={type:"message",data:e.data};n.onmessage&&n.onmessage.call(n,r),n.dispatchEvent(r)}}),wx.onSocketClose(function(){if(n.readyState=t.CLOSED,n.onclose){var e={type:"close",wasClean:!0,code:0,reason:""};n.onclose.call(n,e)}})}return o(t,[{key:"close",value:function(){wx.closeSocket()}},{key:"send",value:function(t){wx.sendSocketMessage({data:t})}}]),t}();a.prototype.addEventListener=s.default.prototype.addEventListener,a.prototype.removeEventListener=s.default.prototype.removeEventListener,a.prototype.dispatchEvent=s.default.prototype.dispatchEvent,a.CONNECTING=0,a.OPEN=1,a.CLOSING=2,a.CLOSED=3,a.instance=null,t.exports=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(n(3),n(4),function(){function t(){r(this,t),this.onloadstart=null,this.onprogress=null,this.onabort=null,this.onerror=null,this.onload=null,this.ontimeout=null,this.onloadend=null,this.onreadystatechange=null,this._readystate=0}return o(t,[{key:"open",value:function(){}},{key:"send",value:function(){}},{key:"abort",value:function(){}},{key:"getResponseHeader",value:function(){}},{key:"getAllResponseHeaders",value:function(){}},{key:"overrideMimeType",value:function(){}},{key:"readystate",get:function(){return this._readystate}},{key:"status",get:function(){}},{key:"statusText",get:function(){}},{key:"response",get:function(){}},{key:"responseText",get:function(){}},{key:"responseXML",get:function(){}}]),t}());s.UNSENT=0,s.OPENED=1,s.HEADERS_RECEIVED=2,s.LOADING=3,s.DONE=4,t.exports=s},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(!t||!t.head)return t;var e=t.head;return t.data.map(function(t){var n={};return t.forEach(function(t,r){n[e[r]]=o(t)}),n})}function s(t){return Promise.resolve().then(function(){var e=t instanceof ArrayBuffer?(0,i.arrayBufferToString)(t):t,n=JSON.parse(e);if(0!==n.Err)return n;var s=n.Data;if(s.JsonTbl){var a=o(s.JsonTbl),u=Object.keys(a[0])[0],c=a[0][u];s=r({Id:s.Id},u,c)}return{Qid:n.Qid,Err:n.Err,Counter:n.Counter,Data:s}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var i=n(2)},function(t,e,n){"use strict";function r(t){if(!(t instanceof ArrayBuffer))throw new TypeError("Argument compressed must be type of ArrayBuffer");var e=new o.SnappyDecompressor(new Uint8Array(t)),n=e.readUncompressedLength();if(-1===n)throw new Error("Invalid Snappy bitstream");var r=new ArrayBuffer(n),s=new Uint8Array(r);if(!e.uncompressToBuffer(s))throw new Error("Invalid Snappy bitstream");return r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(24)},function(t,e){},function(t,e,n){(function(t,r){var o;!function(s){function i(t){throw new RangeError(A[t])}function a(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(N,"."),r+a(t.split("."),e).join(".")}function c(t){for(var e,n,r=[],o=0,s=t.length;o<s;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<s?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function f(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=M(t>>>10&1023|55296),t=56320|1023&t),e+=M(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:E}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?R(t/S):t>>1,t+=R(t/e);t>q*O>>1;r+=E)t=R(t/q);return R(r+(q+1)*t/(t+j))}function d(t){var e,n,r,o,s,a,u,c,h,d,y=[],v=t.length,m=0,b=k,g=x;for(n=t.lastIndexOf(T),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i("not-basic"),y.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(s=m,a=1,u=E;o>=v&&i("invalid-input"),c=l(t.charCodeAt(o++)),(c>=E||c>R((w-m)/a))&&i("overflow"),m+=c*a,h=u<=g?_:u>=g+O?O:u-g,!(c<h);u+=E)d=E-h,a>R(w/d)&&i("overflow"),a*=d;e=y.length+1,g=p(m-s,e,0==s),R(m/e)>w-b&&i("overflow"),b+=R(m/e),m%=e,y.splice(m++,0,b)}return f(y)}function y(t){var e,n,r,o,s,a,u,f,l,d,y,v,m,b,g,j=[];for(t=c(t),v=t.length,e=k,n=0,s=x,a=0;a<v;++a)(y=t[a])<128&&j.push(M(y));for(r=o=j.length,o&&j.push(T);r<v;){for(u=w,a=0;a<v;++a)(y=t[a])>=e&&y<u&&(u=y);for(m=r+1,u-e>R((w-n)/m)&&i("overflow"),n+=(u-e)*m,e=u,a=0;a<v;++a)if(y=t[a],y<e&&++n>w&&i("overflow"),y==e){for(f=n,l=E;d=l<=s?_:l>=s+O?O:l-s,!(f<d);l+=E)g=f-d,b=E-d,j.push(M(h(d+g%b,0))),f=R(g/b);j.push(M(h(f,0))),s=p(n,m,r==o),n=0,++r}++n,++e}return j.join("")}function v(t){return u(t,function(t){return P.test(t)?d(t.slice(4).toLowerCase()):t})}function m(t){return u(t,function(t){return C.test(t)?"xn--"+y(t):t})}var b=("object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType,"object"==typeof r&&r);var g,w=2147483647,E=36,_=1,O=26,j=38,S=700,x=72,k=128,T="-",P=/^xn--/,C=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=E-_,R=Math.floor,M=String.fromCharCode;g={version:"1.4.1",ucs2:{decode:c,encode:f},decode:d,encode:y,toASCII:m,toUnicode:v},void 0!==(o=function(){return g}.call(e,n,e,t))&&(t.exports=o)}()}).call(e,n(26)(t),n(5))},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,s){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var a=/\+/g;t=t.split(e);var u=1e3;s&&"number"==typeof s.maxKeys&&(u=s.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var l,h,p,d,y=t[f].replace(a,"%20"),v=y.indexOf(n);v>=0?(l=y.substr(0,v),h=y.substr(v+1)):(l=y,h=""),p=decodeURIComponent(l),d=decodeURIComponent(h),r(i,p)?o(i[p])?i[p].push(d):i[p]=[i[p],d]:i[p]=d}return i};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(i(t),function(i){var a=encodeURIComponent(o(i))+n;return s(t[i])?r(t[i],function(t){return a+encodeURIComponent(o(t))}).join(e):a+encodeURIComponent(o(t[i]))}).join(e):a?encodeURIComponent(o(a))+n+encodeURIComponent(o(t)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";e.decode=e.parse=n(21),e.encode=e.stringify=n(22)},function(t,e,n){"use strict";function r(t,e,n,r,o){var s;for(s=0;s<o;s++)n[r+s]=t[e+s]}function o(t,e,n,r){var o;for(o=0;o<r;o++)t[e+o]=t[e-n+o]}function s(t){this.array=t,this.pos=0}var i=[0,255,65535,16777215,4294967295];s.prototype.readUncompressedLength=function(){for(var t,e,n=0,r=0;r<32&&this.pos<this.array.length;){if(t=this.array[this.pos],this.pos+=1,(e=127&t)<<r>>>r!==e)return-1;if(n|=e<<r,t<128)return n;r+=7}return-1},s.prototype.uncompressToBuffer=function(t){for(var e,n,s,a,u=this.array,c=u.length,f=this.pos,l=0;f<u.length;)if(e=u[f],f+=1,0==(3&e)){if((n=1+(e>>>2))>60){if(f+3>=c)return!1;s=n-60,n=u[f]+(u[f+1]<<8)+(u[f+2]<<16)+(u[f+3]<<24),n=1+(n&i[s]),f+=s}if(f+n>c)return!1;r(u,f,t,l,n),f+=n,l+=n}else{switch(3&e){case 1:n=4+(e>>>2&7),a=u[f]+(e>>>5<<8),f+=1;break;case 2:if(f+1>=c)return!1;n=1+(e>>>2),a=u[f]+(u[f+1]<<8),f+=2;break;case 3:if(f+3>=c)return!1;n=1+(e>>>2),a=u[f]+(u[f+1]<<8)+(u[f+2]<<16)+(u[f+3]<<24),f+=4}if(0===a||a>l)return!1;o(t,l,a,n),l+=n}return!0},e.SnappyDecompressor=s},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){},function(t,e){}])});